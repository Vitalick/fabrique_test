Задание для fabrique
======================

Требования
----------
Для запуска проекта требуется Docker и Docker Compose.

Запуск проекта
--------------
Для запуска проекта требуется из директории проекта выполнить следующие команды:

    docker-compose build
    docker-compose up

Авторизация через API
---------------------
Для получения токена авторизации следует отправить на http://127.0.0.1:8000/login следующий POST запрос:

    {
        "username": "ИМЯ ПОЛЬЗОВАТЕЛЯ",
        "password": "ПАРОЛЬ"
    }
    
В ответ будет получен токен в таком формате:

    {
        "token": "f0af76b19f114dfd2b041d295213152cf8c09ff3"
    }
    
Для работы от имени администратора (для кого и была сделана авторизация) следует добавить HTTP-заголовок:

    Authorization: Token f0af76b19f114dfd2b041d295213152cf8c09ff3
    
Функционал для администратора системы
=====================================
    
Добавление опроса
-----------------
Для добавления опроса следует использовать отправить на http://127.0.0.1:8000/polls/ следующий POST запрос:

    {
        "title": "название",
        "start_date": дата старта,
        "finish_date": дата окончания,
        "description": "описание"
    }
    
Изменение опроса
----------------
Для изменения опроса следует использовать отправить на http://127.0.0.1:8000/polls/<id_опроса> следующий PUSH или PUT запрос:

    {
        "title": "название",
        "finish_date": дата окончания,
        "description": "описание"
    }

Удаление опроса
----------------
Для удаления опроса следует использовать отправить на http://127.0.0.1:8000/polls/<id_опроса> DELETE запрос.

Добавление вопроса
-----------------
Для добавления вопроса следует использовать отправить на http://127.0.0.1:8000/questions/ следующий POST запрос:

    {
        "text": "Текстовый вопрос",
        "type": "тип вопроса",
        "poll": id опроса
    }
    
Типы вопросов бывают:
- "text" - ответ текстом
- "single" - ответ с выбором одного варианта
- "multi" - ответ с выбором нескольких вариантов

Если вопрос не текстовый, то заполнять "text" не обязательно. Для добавления вариантов ответов следует отправить на http://127.0.0.1:8000/choices/ следующий POST запрос:

    {
        "text": "Текст варианта ответа",
        "question": id вопроса
    }

Изменение вопроса
----------------
Для изменения вопроса следует использовать отправить на http://127.0.0.1:8000/questions/<id_вопроса> следующий PUSH или PUT запрос:

    {
        "text": "Текстовый вопрос",
        "type": "тип вопроса",
        "poll": id опроса
    }

Удаление вопроса
----------------
Для удаления вопроса следует использовать отправить на http://127.0.0.1:8000/questions/<id_вопроса> DELETE запрос.

Функционал для пользователей системы
====================================
    
Получение списка активных опросов
-----------------
Для получения списка активных опросов следует отправить на http://127.0.0.1:8000/polls/ GET запрос будучи не авторизованным

Прохождение опроса
------------------
Для прохождения опроса следует отправить на http://127.0.0.1:8000/vote/ следующий POST запрос:

    {
        "poll": id опроса,
        "voted_by": числовой id для сохранения результатов опроса,
        "answers": [
            {
                "question": id вопроса,
                "text": "текст ответа (если вопрос текстовый)"
            },
            {
                "question": id вопроса,
                "choices": [id варианта ответа или вариантов ответа через запятую (если вопрос не текстовый)]
            },
            ...
        ]
    }
    
Если всё удачно, то откроется страница с результатом опроса (тут я не доработал, выводятся все ответы на опрос, даже других пользователей)

Получение пройденных пользователем опросов
------------------------------------------

Для получения списка пройденных пользователем опросов следует отправить на http://127.0.0.1:8000/polls-user/<id_пользователя> GET запрос. Тут я не доработал, выводятся все ответы на опрос, даже других пользователей.
